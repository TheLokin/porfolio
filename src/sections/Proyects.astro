---
import SectionContainer from "@/components/SectionContainer.astro"
import Badge from "@/components/ui/Badge.astro"
import Link from "@/components/ui/Link.astro"
import { getI18N } from "@/i18n"
import ArrowUpRight from "@/icons/phosphor/arrow-up-right.svg"
import GitHub from "@/icons/phosphor/github.svg"
import Package from "@/icons/phosphor/package.svg"
import AstroJS from "@/icons/simple/astro.svg"
import CloudflareWorkers from "@/icons/simple/cloudflare-workers.svg"
import Electron from "@/icons/simple/electron.svg"
import Firebase from "@/icons/simple/firebase.svg"
import Kotlin from "@/icons/simple/kotlin.svg"
import TailwindCSS from "@/icons/simple/tailwind.svg"
import lavelada from "@/images/lavelada.avif"
import temzone from "@/images/temzone.avif"
import { Image } from "astro:assets"

const { currentLocale } = Astro as { currentLocale: "es" | "gl" | "en" }
const i18n = getI18N({ currentLocale })

const TAG = {
  Astro: {
    name: "Astro",
    icon: AstroJS,
  },
  CloudflareWorkers: {
    name: "Cloudflare Workers",
    icon: CloudflareWorkers,
  },
  Electron: {
    name: "Electron",
    icon: Electron,
  },
  Firebase: {
    name: "Firebase",
    icon: Firebase,
  },
  Kotlin: {
    name: "Kotlin",
    icon: Kotlin,
  },
  TailwindCSS: {
    name: "Tailwind CSS",
    icon: TailwindCSS,
  },
}

const proyects = [
  {
    id: "lavelada",
    title: "La Velada del Año IV",
    subtitle: {
      es: "Página web oficial",
      gl: "Páxina web oficial",
      en: "Official website",
    },
    description: {
      es: "Contribución al desarrollo de la página web del evento de boxeo entre streamers y creadores de contenido, organizado por Ibai Llanos. La iniciativa fue desarrollada como proyecto de código abierto bajo la dirección de Miguel Ángel Durán.",
      gl: "Contribución ao desenvolvemento da páxina web do evento de boxeo entre streamers e creadores de contido, organizado por Ibai Llanos. A iniciativa foi desenvolvida como proxecto de código aberto baixo a dirección de Miguel Ángel Durán.",
      en: "Contribution to the development of the website for the boxing event between streamers and content creators, organized by Ibai Llanos. The initiative was developed as an open-source project under the direction of Miguel Ángel Durán.",
    },
    tags: [TAG.Astro, TAG.TailwindCSS],
    image: lavelada,
    alt: {
      es: "Captura de pantalla de la página web de La Velada del Año IV.",
      gl: "Captura de pantalla da páxina web de La Velada do Ano IV.",
      en: "Screenshot of the website of La Velada del Año IV.",
    },
    github: "https://github.com/midudev/la-velada-web-oficial",
  },
  {
    id: "temzone",
    title: "Temzone",
    subtitle: {
      es: "Mapa interactivo de Temtem",
      gl: "Mapa interactivo de Temtem",
      en: "Interactive map of Temtem",
    },
    description: {
      es: "Desarrollo de una solución multiplataforma para escritorio y dispositivos móviles, diseñada como un mapa interactivo del videojuego Temtem. El proyecto fue galardonado con el 3.º puesto en la XVI Edición de los Premios A Noite.",
      gl: "Desenvolvemento dunha solución multiplataforma para escritorio e dispositivos móbiles, deseñada como un mapa interactivo do videoxogo Temtem. O proxecto foi galardoado co 3.º posto na XVI Edición dos Premios A Noite.",
      en: "Development of a cross-platform solution for desktop and mobile devices, designed as an interactive map for the video game Temtem. The project was awarded 3rd place in the 16th Edition of the A Noite Awards.",
    },
    tags: [TAG.Kotlin, TAG.Electron, TAG.TailwindCSS, TAG.Firebase, TAG.CloudflareWorkers],
    image: temzone,
    alt: {
      es: "Captura de pantalla de la aplicación Temzone.",
      gl: "Captura de pantalla da aplicación Temzone.",
      en: "Screenshot of the Temzone application.",
    },
    github: "https://github.com/Temtem-Interactive-Map",
  },
]
---

<SectionContainer id="proyects">
  <Package slot="icon" />
  <Fragment slot="title">{i18n.SECTION.PROJECTS.TITLE}</Fragment>
  {
    proyects.map((proyect) => (
      <article class="grid grid-cols-7 gap-x-12 gap-y-4">
        <Link
          aria-label={i18n.LINK.REPOSITORY.replace("{proyect}", proyect.title)}
          class:list={["col-span-7 lg:order-2 lg:col-span-4"]}
          href={proyect.github}
          rel="noopener noreferrer"
          target="_blank"
        >
          <div
            class:list={[
              "overflow-hidden rounded-2xl drop-shadow-xl",
              "outline outline-2 -outline-offset-1 outline-primary",
            ]}
          >
            <div class="pointer-events-none absolute bottom-4 right-4 z-10 rounded-full bg-secondary p-2">
              <ArrowUpRight aria-hidden="true" class="size-8 shrink-0 text-primary" />
            </div>
            <Image
              alt={proyect.alt[currentLocale]}
              class:list={[
                "aspect-video object-cover",
                "transition-transform duration-500 motion-reduce:transition-none",
                "md:any-hover:scale-105",
              ]}
              format="avif"
              src={proyect.image}
            />
          </div>
        </Link>
        <div class="col-span-7 mt-2 flex flex-col gap-4 lg:col-span-3">
          <div class="flex flex-col gap-2">
            <header>
              <div class="flex justify-between gap-2">
                <h3 class="typography-2xl flex gap-1 text-balance font-semibold tracking-wide">
                  {proyect.title}
                </h3>
                <GitHub aria-hidden="true" class="mt-px size-6 shrink-0" />
              </div>
              <h4 class="typography-lg text-balance">{proyect.subtitle[currentLocale]}</h4>
            </header>
            <ul class="flex flex-wrap gap-2">
              {proyect.tags.map((tag) => (
                <li>
                  <Badge>
                    <tag.icon />
                    {tag.name}
                  </Badge>
                </li>
              ))}
            </ul>
          </div>
          <p class="text-pretty">{proyect.description[currentLocale]}</p>
        </div>
      </article>
    ))
  }
</SectionContainer>
