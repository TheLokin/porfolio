---
import GitHubLink from "@/components/GitHubLink.astro"
import LinkedInLink from "@/components/LinkedInLink.astro"
import Separator from "@/components/ui/Separator.astro"
import { getI18N } from "@/i18n"

const { currentLocale } = Astro
const i18n = getI18N({ currentLocale })
---

<footer class="flex flex-col items-center justify-between gap-4 py-4 md:flex-row md:px-4">
  <span class="text-pretty text-center">
    &copy;
    <span data-year>{new Date().getFullYear()}</span>
    TheLokin
    <span aria-hidden="true" class="hidden md:inline">|</span>
    <br aria-hidden="true" class="block md:hidden" />
    {i18n.FOOTER.TEXT}
    <span aria-label={i18n.FOOTER.HEART_EMOJI}>ðŸ¤Ž</span>
    {i18n.FOOTER.CONNECTOR}
    <span aria-label={i18n.FOOTER.COFFEE_EMOJI}>â˜•</span>.
  </span>
  <Separator class="md:hidden" />
  <nav>
    <ul class="flex gap-4">
      <li>
        <LinkedInLink />
      </li>
      <li>
        <GitHubLink />
      </li>
    </ul>
  </nav>
</footer>

<script>
  document.addEventListener("astro:page-load", () => {
    const dataYear = document.querySelectorAll("[data-year]")

    dataYear.forEach((date) => {
      date.textContent = new Date().getFullYear().toString()
    })
  })
</script>
